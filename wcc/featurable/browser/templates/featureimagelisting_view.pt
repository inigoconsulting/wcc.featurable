<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      metal:use-macro="here/main_template/macros/master">
      <head>
</head>
<body>
    <div metal:fill-slot="content-core">
        <metal:macro define-macro="content-core">
        <tal:def define="kssClassesView context/@@kss_field_decorator_view;
            getKssClasses nocall:kssClassesView/getKssClassesInlineEditable;
            templateId template/getId">
            <metal:block use-macro="context/folder_listing/macros/text-field-view"/>
        </tal:def>

        <tal:block define="listing_macro context/folder_listing/macros/listing;
            filview nocall:context/@@featureimagelisting_view">
            <metal:macro use-macro="listing_macro">
                <metal:slot fill-slot="entries">
                    <table style="width:100%">
                        <tr tal:repeat="item batch"  metal:define-macro="entries"
                            class="featureimagelisting-row">
                        <td tal:define="obj item/getObject"
                            tal:attributes="width string:${filview/get_featureimage_width}px">
                            <a tal:attributes="href item/getURL">
                                <img tal:replace="structure python:filview.get_feature_image(obj)"/>
                            </a>
                        </td>
                        <td>
                            <h4><a tal:attributes="href item/getURL"
                                    tal:content="item/Title"></a></h4>
                            <p tal:content="item/Description"></p>
                        </td>
                    </tr>
                </table>
                </metal:slot>
            </metal:macro>
        </tal:block>
    </metal:macro>
    </div>
</body>
</html>
